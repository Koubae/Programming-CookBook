Python What's New (Personal Notes)
==================================


Personal notes of the Official [What’s New in Python](https://docs.python.org/3/whatsnew/index.html).
On each note only what I found most important is noted, do not take those notes as source of truth and always refer 
to the original Python's documentation.

### [What’s new in Python 3.14](https://docs.python.org/3/whatsnew/3.14.html)

* [template string literals](https://docs.python.org/3/whatsnew/3.14.html#whatsnew314-template-string-literals)
* [deferred evaluation of annotations](https://docs.python.org/3/whatsnew/3.14.html#whatsnew314-deferred-annotations)
* [support for subinterpreters in the standard library](https://docs.python.org/3/whatsnew/3.14.html#whatsnew314-multiple-interpreters)

**It is no longer necessary to enclose annotations in strings if they contain forward references.**

### [What’s New In Python 3.13](https://docs.python.org/3/whatsnew/3.13.html)

* [free-threaded mode (PEP 703)](https://docs.python.org/3/whatsnew/3.13.html#whatsnew313-free-threaded-cpython)
* [Just-In-Time compiler (PEP 744)](https://docs.python.org/3/whatsnew/3.13.html#whatsnew313-jit-compiler)
* A greatly improved interactive interpreter and improved error messages.
* PEP 703: CPython 3.13 has experimental support for running with the global interpreter lock disabled


### [What’s New In Python 3.12](https://docs.python.org/3/whatsnew/3.12.html)

* [PEP 695: Type Parameter Syntax](https://docs.python.org/3/whatsnew/3.12.html#pep-695-type-parameter-syntax)
* [PEP introduces a new way to declare type aliases using the type statement](https://docs.python.org/3/reference/simple_stmts.html#type)
* a new kind of scope is introduced, the [annotation scope](https://docs.python.org/3/reference/executionmodel.html#annotation-scopes)
* [PEP 701: Syntactic formalization of f-strings](https://docs.python.org/3/whatsnew/3.12.html#pep-701-syntactic-formalization-of-f-strings)
* [PEP 684: A Per-Interpreter GIL](https://docs.python.org/3/whatsnew/3.12.html#pep-684-a-per-interpreter-gil)
* [PEP 709: Comprehension inlining](https://docs.python.org/3/whatsnew/3.12.html#pep-709-comprehension-inlining) | This speeds up execution of a comprehension by up to two times
* [PEP 698: Override Decorator for Static Typing](https://docs.python.org/3/whatsnew/3.12.html#pep-698-override-decorator-for-static-typing)


```python
# d explicit way to create generic classes and functions:
def max[T](args: Iterable[T]) -> T:
    ...

class list[T]:
    def __getitem__(self, index: int, /) -> T:
        ...

    def append(self, element: T) -> None:
        ...


type Point = tuple[float, float]
# Generic
type Point[T] = tuple[T, T]

``` 

Syntactic formalization of f-strings

```python
f"""{f'''{f'{f"{1+1}"}'}'''}"""
'2'

f"{f"{f"{f"{f"{f"{1+1}"}"}"}"}"}"
'2'

>>> f"This is the playlist: {", ".join([
...     'Take me back to Eden',  # My, my, those eyes like fire
...     'Alkaline',              # Not acid nor alkaline
...     'Ascensionism'           # Take to the broken skies at last
... ])}"
'This is the playlist: Take me back to Eden, Alkaline, Ascensionism'

```

Variables used in the target part of comprehensions that are not stored to can now be used in assignment expressions (:=).

```python
[(b := 1) for a, b.prop in some_iter]
```


### [What’s New In Python 3.11](https://docs.python.org/3/whatsnew/3.11.html)

* [PEP 657: Fine-grained error locations in tracebacks](https://docs.python.org/3/whatsnew/3.11.html#pep-657-fine-grained-error-locations-in-tracebacks)
* [PEP 654: Exception Groups and except*](https://docs.python.org/3/whatsnew/3.11.html#pep-654-exception-groups-and-except)
* [PEP 678: Exceptions can be enriched with notes](https://docs.python.org/3/whatsnew/3.11.html#pep-678-exceptions-can-be-enriched-with-notes)
* [PEP 646: Variadic generics](https://docs.python.org/3/whatsnew/3.11.html#pep-646-variadic-generics)
* [PEP 673: Self type](https://docs.python.org/3/whatsnew/3.11.html#pep-673-self-type)
* Starred unpacking expressions can now be used in for statements

Example of `ExceptionGroup` and `except*`:
```python
try:
    raise ExceptionGroup("eg",
        [ValueError(1), TypeError(2), OSError(3), OSError(4)])
except* TypeError as e:
    print(f'caught {type(e)} with nested {e.exceptions}')
except* OSError as e:
    print(f'caught {type(e)} with nested {e.exceptions}')
```

Real world example (generated by ChatGpt 5.2)

```python
import asyncio

async def boom1():
    await asyncio.sleep(0.1)
    raise ValueError("bad input")

async def boom2():
    await asyncio.sleep(0.1)
    raise RuntimeError("something else")

async def main():
    try:
        async with asyncio.TaskGroup() as tg:
            tg.create_task(boom1())
            tg.create_task(boom2())
    except* ValueError as eg:
        print("ValueError group:", eg.exceptions)
    except* RuntimeError as eg:
        print("RuntimeError group:", eg.exceptions)

asyncio.run(main())

```

* [BaseException.add_note](https://docs.python.org/3/library/exceptions.html#BaseException.add_note)

```python
def parse_age(s: str) -> int:
    try:
        return int(s)
    except ValueError as e:
        e.add_note(f"While parsing age from input={s!r}")
        e.add_note("Expected a base-10 integer like '42'")
        raise

parse_age("forty-two")
```


### [What’s New In Python 3.10](https://docs.python.org/3/whatsnew/3.10.html)

* Allow writing union types as X | Y
* Multiple errors display improvements
* [Parenthesized context managers](https://docs.python.org/3/whatsnew/3.10.html#parenthesized-context-managers)

```python
with (
    CtxManager1() as example1,
    CtxManager2() as example2,
    CtxManager3() as example3,
):
    ...
```

* [PEP 634: Structural Pattern Matching](https://docs.python.org/3/whatsnew/3.10.html#pep-634-structural-pattern-matching)

```python
match subject:
    case <pattern_1>:
        <action_1>
    case <pattern_2>:
        <action_2>
    case <pattern_3>:
        <action_3>
    case _:
        <action_wildcard>
```

* [PEP 613: TypeAlias](https://docs.python.org/3/whatsnew/3.10.html#pep-613-typealias)
* [Dataclasses slots](https://docs.python.org/3/whatsnew/3.10.html#slots) + "Keyword-only fields"



### [What’s New In Python 3.9](https://docs.python.org/release/3.14.2/whatsnew/3.9.html)


* [PEP 616 – String methods to remove prefixes and suffixes](https://peps.python.org/pep-0616/)

* [Type Hinting Generics in Standard Collections](https://docs.python.org/release/3.14.2/whatsnew/3.9.html#type-hinting-generics-in-standard-collections)
* [Dictionary Merge & Update Operators](https://docs.python.org/release/3.14.2/whatsnew/3.9.html#dictionary-merge-update-operators)


```python
x = {"key1": "value1 from x", "key2": "value2 from x"}
y = {"key2": "value2 from y", "key3": "value3 from y"}
x | y

y | x
```

* [asyncio](https://docs.python.org/release/3.14.2/whatsnew/3.9.html#asyncio)

Added a new coroutine `asyncio.to_thread()`

